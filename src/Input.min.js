/*
 * Input.js – Part of FIL (The Front-end Interactive Libraries)
 * Copyright (c) 2012, Danny Garcia. All rights reserved.
 * Code licensed under the MIT License
 * https://github.com/dannyx0/fil/
 */var fil=fil||{};fil.Input=function(){var e={element:document.body,preventDefault:!1,ratio:!1},t=1,n=!1,r=function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),typeof e!="function"?undefined:(r=Array.prototype.slice.call(arguments,2),i=function(){return e.apply(t,r.concat(Array.prototype.slice.call(arguments)))},i.guid=e.guid=e.guid||i.guid,i)};return{inputs:[],average:{},init:function(r){typeof r!="undefined"&&this.options(r),typeof window.devicePixelRatio!="undefined"&&e.ratio&&(t=window.devicePixelRatio),n=this.supportsTouch(),this.bindAllInputs()},options:function(t){if(typeof t=="undefined")return e;for(var n in e)e.hasOwnProperty(n)&&typeof t[n]!="undefined"&&(e[n]=t[n])},setCoordinates:function(r,i){e.preventDefault&&r.preventDefault();var s=[],o={x:0,y:0};if(n)for(var u=0;u<r.touches.length;u++)s[u]={x:r.touches[u].pageX*t,y:r.touches[u].pageY*t},o.x+=s[u].x,o.y+=s[u].y;else s[0]={x:r.pageX*t,y:r.pageY*t},o=s[0];this.inputs=s,this.average={x:Math.ceil(o.x/s.length),y:Math.ceil(o.y/s.length)}},bindAllInputs:function(){this.bindTapStart(),this.bindTapMove(),this.bindTapEnd()},unbindAllInputs:function(){this.unbindTapStart(),this.unbindTapMove(),this.unbindTapEnd()},bindTapStart:function(){var t=this.getEventType("start");e.element.addEventListener(t,r(this.tapStart,this),!1)},tapStart:function(e){this.setCoordinates(e,"start"),this.ontapstart(this.average,this.inputs)},ontapstart:function(e,t){},unbindTapStart:function(){var t=this.getEventType("start");e.element.removeEventListener(t,r(this.tapStart,this),!1)},bindTapMove:function(){var t=this.getEventType("move");e.element.addEventListener(t,r(this.tapMove,this),!1)},tapMove:function(e){this.setCoordinates(e,"move"),this.ontapmove(this.average,this.inputs)},ontapmove:function(e,t){},unbindTapMove:function(){var t=this.getEventType("move");e.element.removeEventListener(t,r(this.tapMove,this),!1)},bindTapEnd:function(){var t=this.getEventType("end");e.element.addEventListener(t,r(this.tapEnd,this),!1)},tapEnd:function(e){this.setCoordinates(e,"end"),this.ontapend(this.average,this.inputs)},ontapend:function(e,t){},unbindTapEnd:function(){var t=this.getEventType("end");e.element.removeEventListener(t,r(this.tapEnd,this),!1)},getEventType:function(e){var t=n?"touch":"mouse";return e==="start"&&!n?e="down":e==="end"&&!n&&(e="up"),t+e},supportsTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},destroy:function(){this.unbindAllInputs()}}};