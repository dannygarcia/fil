/*
 * fil.min.js – FIL (The Front-end Interactive Libraries)
 * Copyright (c) 2012, Danny Garcia. All rights reserved.
 * Code licensed under the MIT License
 * https://github.com/dannyx0/fil/
 */var fil=fil||{},fil=fil||{};fil.Canvas=function(){var e={context:"2d",container:document.body,width:"auto",height:"auto",resize:!1,ratio:!1},t=null,n=null,r=1;return{width:null,height:null,init:function(n){return typeof n!="undefined"&&this.options(n),typeof window.devicePixelRatio!="undefined"&&e.ratio&&(r=window.devicePixelRatio),t=e.container.appendChild(document.createElement("canvas")),this.context(e.context),this.resize(null,e.width,e.height),e.resize&&window.addEventListener("resize",this.resize,!1),this},options:function(t){if(typeof t=="undefined")t=e;else for(var n in e)e.hasOwnProperty(n)&&typeof t[n]!="undefined"&&(e[n]=t[n]);return t},context:function(e){return typeof e=="undefined"?context:(context=t.getContext(e),context)},resize:function(n,i,s){if(typeof i=="undefined"||i==="auto")i=e.container.offsetWidth;if(typeof s=="undefined"||s==="auto")s=e.container.offsetHeight;i*=r,s*=r,this.width=context.canvas.width=i,this.height=context.canvas.height=s,t.style.width=i/r,t.style.height=s/r},clear:function(){context.clearRect(0,0,this.width,this.height)},destroy:function(){e.resize&&window.removeEventListener("resize",this.resize,!1),e.container.removeChild(t),e={context:"2d",container:document.body,width:"auto",height:"auto",resize:!1},t=null,n=null,r=1}}},typeof module!="undefined"&&(module.exports=fil.Canvas),fil=fil||{},fil.Frame=function(){return{active:!1,request:null,frame:0,step:function(e){},start:function(){if(!this.active){var e=this,t=function(){e.request=window.requestAnimationFrame(t),e.step(e.frame),e.frame++};typeof window.requestAnimationFrame=="undefined"&&(window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),typeof window.cancelAnimationFrame=="undefined"&&(window.cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame}()),t(),this.active=!0}},stop:function(){this.active&&window.cancelAnimationFrame(this.request)}}};var fil=fil||{};fil.Input=function(){var e={element:document.body,preventDefault:!1,ratio:!1,forceTouch:!1},t=1,n=!1,r=!1,i=function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),typeof e!="function"?undefined:(r=Array.prototype.slice.call(arguments,2),i=function(){return e.apply(t,r.concat(Array.prototype.slice.call(arguments)))},i.guid=e.guid=e.guid||i.guid,i)};return{inputs:[],average:{},init:function(n){return typeof n!="undefined"&&this.options(n),typeof window.devicePixelRatio!="undefined"&&e.ratio&&(t=window.devicePixelRatio),r=e.forceTouch||this.supportsTouch(),this.bindAllInputs(),this},options:function(t){if(typeof t=="undefined")return e;for(var n in e)e.hasOwnProperty(n)&&typeof t[n]!="undefined"&&(e[n]=t[n])},setCoordinates:function(n,i){e.preventDefault&&n.preventDefault();var s=[],o={x:0,y:0};if(r)for(var u=0;u<n.touches.length;u++)s[u]={x:n.touches[u].pageX*t,y:n.touches[u].pageY*t},o.x+=s[u].x,o.y+=s[u].y;else s[0]={x:n.pageX*t,y:n.pageY*t},o=s[0];this.inputs=s,this.average={x:Math.ceil(o.x/s.length),y:Math.ceil(o.y/s.length)}},bindAllInputs:function(){n=!0,this.bindTapStart(),this.bindTapMove(),this.bindTapEnd()},unbindAllInputs:function(){n&&(this.unbindTapStart(),this.unbindTapMove(),this.unbindTapEnd()),n=!1},bindTapStart:function(){var t=this.getEventType("start");e.element.addEventListener(t,i(this.tapStart,this),!1)},tapStart:function(e){this.setCoordinates(e,"start"),this.ontapstart(this.average,this.inputs)},ontapstart:function(e,t){},unbindTapStart:function(){var t=this.getEventType("start");e.element.removeEventListener(t,i(this.tapStart,this),!1)},bindTapMove:function(){var t=this.getEventType("move");e.element.addEventListener(t,i(this.tapMove,this),!1)},tapMove:function(e){this.setCoordinates(e,"move"),this.ontapmove(this.average,this.inputs)},ontapmove:function(e,t){},unbindTapMove:function(){var t=this.getEventType("move");e.element.removeEventListener(t,i(this.tapMove,this),!1)},bindTapEnd:function(){var t=this.getEventType("end");e.element.addEventListener(t,i(this.tapEnd,this),!1)},tapEnd:function(e){this.setCoordinates(e,"end"),this.ontapend(this.average,this.inputs)},ontapend:function(e,t){},unbindTapEnd:function(){var t=this.getEventType("end");e.element.removeEventListener(t,i(this.tapEnd,this),!1)},getEventType:function(e){var t=r?"touch":"mouse";return e==="start"&&!r?e="down":e==="end"&&!r&&(e="up"),t+e},supportsTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},destroy:function(){this.unbindAllInputs()}}};var fil=fil||{};fil.Pen=function(){return{ctx:null,context:function(e){if(typeof e=="undefined"){if(this.ctx===null)throw"You must provide a [ctx] to draw on. Try setting it with context(ctx)";return this.ctx}return this.ctx=e,this.ctx},fill:function(e){var t=this.context();t.fillStyle=e},stroke:function(e,t){var n=this.context();e&&(n.strokeStyle=e),t&&(n.lineWidth=t)},line:function(e,t){var n=this.context();n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke()},circle:function(e,t){var n=this.context();n.beginPath(),n.arc(e.x,e.y,t,0,Math.PI*2,!0),n.closePath(),n.fill()}}};var fil=fil||{};fil.Transformer=function(){var e=this;return this._contains=function(t,n){return!!~(""+t).indexOf(n)},this._prefixed=function(e,t){var n="Webkit Moz O ms".split(" "),r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+n.join(r+" ")+r).split(" "),s,o;for(s in i){o=i[s];if(!this._contains(o,"-")&&t[o]!==undefined)return o}return!1},{transform:function(t,n){typeof t=="undefined"&&(t=this.el),this.el=t;var r,i="";if(n instanceof Array)for(var s=0;s<n.length;s++)i+=n[s].property+"("+n[s].value+") ";else for(r in n)i+=r+"("+n[r]+") ";t.style[e._prefixed("transform",t.style)]=i},transformOrigin:function(t,n,r){typeof t=="undefined"&&(t=this.el),this.el=t,t.style[e._prefixed("transformOrigin",t.style)]=n+" "+r}}};