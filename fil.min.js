/*
 * fil.min.js – FIL (The Front-end Interactive Libraries)
 * Copyright (c) 2012, Danny Garcia. All rights reserved.
 * Code licensed under the MIT License
 * https://github.com/dannyx0/fil/
 */var fil=fil||{},fil=fil||{};fil.Canvas=function(){var e={context:"2d",container:document.body,width:"auto",height:"auto",resize:!1,ratio:!1},t=null,n=null,r=1;return{width:null,height:null,init:function(t){typeof t!="undefined"&&this.options(t),typeof window.devicePixelRatio!="undefined"&&e.ratio&&(r=window.devicePixelRatio),canvas=e.container.appendChild(document.createElement("canvas")),this.context(e.context),this.resize(null,e.width,e.height),e.resize&&window.addEventListener("resize",this.resize,!1)},options:function(t){if(typeof t=="undefined")return e;for(var n in e)e.hasOwnProperty(n)&&typeof t[n]!="undefined"&&(e[n]=t[n])},context:function(e){return typeof e=="undefined"?context:(context=canvas.getContext(e),context)},resize:function(t,n,i){if(typeof n=="undefined"||n==="auto")n=e.container.offsetWidth;if(typeof i=="undefined"||i==="auto")i=e.container.offsetHeight;n*=r,i*=r,this.width=context.canvas.width=n,this.height=context.canvas.height=i,canvas.style.width=n/r,canvas.style.height=i/r},clear:function(){context.clearRect(0,0,this.width,this.height)},destroy:function(){e.resize&&window.removeEventListener("resize",this.resize,!1),e.container.removeChild(canvas),e={context:"2d",container:document.body,width:"auto",height:"auto",resize:!1},canvas=null,context=null,r=1,dimensions={}}}},fil=fil||{},fil.Frame=function(){return{active:!1,request:null,frame:0,step:function(e){},start:function(){if(!this.active){var e=this,t=function(){e.request=window.requestAnimationFrame(t),e.step(e.frame),e.frame++};typeof window.requestAnimationFrame=="undefined"&&(window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),typeof window.cancelAnimationFrame=="undefined"&&(window.cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame}()),t(),this.active=!0}},stop:function(){this.active&&window.cancelAnimationFrame(this.request)}}};var fil=fil||{};fil.Input=function(){var e={element:document.body,preventDefault:!1,ratio:!1},t=1,n=!1,r=function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),typeof e!="function"?undefined:(r=Array.prototype.slice.call(arguments,2),i=function(){return e.apply(t,r.concat(Array.prototype.slice.call(arguments)))},i.guid=e.guid=e.guid||i.guid,i)};return{inputs:[],average:{},init:function(r){typeof r!="undefined"&&this.options(r),typeof window.devicePixelRatio!="undefined"&&e.ratio&&(t=window.devicePixelRatio),n=this.supportsTouch(),this.bindAllInputs()},options:function(t){if(typeof t=="undefined")return e;for(var n in e)e.hasOwnProperty(n)&&typeof t[n]!="undefined"&&(e[n]=t[n])},setCoordinates:function(r,i){e.preventDefault&&r.preventDefault();var s=[],o={x:0,y:0};if(n)for(var u=0;u<r.touches.length;u++)s[u]={x:r.touches[u].pageX*t,y:r.touches[u].pageY*t},o.x+=s[u].x,o.y+=s[u].y;else s[0]={x:r.pageX*t,y:r.pageY*t},o=s[0];this.inputs=s,this.average={x:Math.ceil(o.x/s.length),y:Math.ceil(o.y/s.length)}},bindAllInputs:function(){this.bindTapStart(),this.bindTapMove(),this.bindTapEnd()},unbindAllInputs:function(){this.unbindTapStart(),this.unbindTapMove(),this.unbindTapEnd()},bindTapStart:function(){var t=this.getEventType("start");e.element.addEventListener(t,r(this.tapStart,this),!1)},tapStart:function(e){this.setCoordinates(e,"start"),this.ontapstart(this.average,this.inputs)},ontapstart:function(e,t){},unbindTapStart:function(){var t=this.getEventType("start");e.element.removeEventListener(t,r(this.tapStart,this),!1)},bindTapMove:function(){var t=this.getEventType("move");e.element.addEventListener(t,r(this.tapMove,this),!1)},tapMove:function(e){this.setCoordinates(e,"move"),this.ontapmove(this.average,this.inputs)},ontapmove:function(e,t){},unbindTapMove:function(){var t=this.getEventType("move");e.element.removeEventListener(t,r(this.tapMove,this),!1)},bindTapEnd:function(){var t=this.getEventType("end");e.element.addEventListener(t,r(this.tapEnd,this),!1)},tapEnd:function(e){this.setCoordinates(e,"end"),this.ontapend(this.average,this.inputs)},ontapend:function(e,t){},unbindTapEnd:function(){var t=this.getEventType("end");e.element.removeEventListener(t,r(this.tapEnd,this),!1)},getEventType:function(e){var t=n?"touch":"mouse";return e==="start"&&!n?e="down":e==="end"&&!n&&(e="up"),t+e},supportsTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},destroy:function(){this.unbindAllInputs()}}};var fil=fil||{};fil.Pen=function(){return{ctx:null,context:function(e){if(typeof e=="undefined"){if(this.ctx===null)throw"You must provide a [ctx] to draw on. Try setting it with context(ctx)";return this.ctx}this.ctx=e},fill:function(e){var t=this.context();t.fillStyle=e},stroke:function(e,t){var n=this.context();e&&(n.strokeStyle=e),t&&(n.lineWidth=t)},line:function(e,t){var n=this.context();n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke()},circle:function(e,t){var n=this.context();n.beginPath(),n.arc(e.x,e.y,t,0,Math.PI*2,!0),n.closePath(),n.fill()}}};var fil=fil||{};fil.Transformer=function(){return this._prefixed=function(e,t){var n="Webkit Moz O ms".split(" "),r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+n.join(r+" ")+r).split(" "),s,o,u=function(e,t){return!!~(""+e).indexOf(t)};for(s in i){o=i[s];if(!u(o,"-")&&t[o]!==undefined)return o}return!1},{transform:function(e,t){typeof e=="undefined"&&(e=this.el),this.el=e;var n,r="";for(n in t)r+=n+"("+t[n]+") ";e.style[_prefixed("transform",e.style)]=r},transformOrigin:function(e,t,n){typeof e=="undefined"&&(e=this.el),this.el=e,e.style[_prefixed("transformOrigin",e.style)]=t+" "+n}}};